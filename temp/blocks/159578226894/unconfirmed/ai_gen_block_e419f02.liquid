{% doc %}
  @prompt
    A magazine-style editorial layout

{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-editorial-layout-{{ ai_gen_id }} {
    max-width: 1200px;
    margin: 0 auto;
    padding: {{ block.settings.section_padding }}px;
    background-color: {{ block.settings.background_color }};
    font-family: {{ block.settings.body_font.family }}, {{ block.settings.body_font.fallback_families }};
    font-weight: {{ block.settings.body_font.weight }};
    line-height: 1.6;
  }

  .ai-editorial-layout__header-{{ ai_gen_id }} {
    text-align: center;
    margin-bottom: 60px;
    padding-bottom: 40px;
    border-bottom: 2px solid {{ block.settings.accent_color }};
  }

  .ai-editorial-layout__category-{{ ai_gen_id }} {
    display: inline-block;
    background-color: {{ block.settings.accent_color }};
    color: {{ block.settings.accent_text_color }};
    padding: 8px 16px;
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 20px;
    border-radius: 2px;
  }

  .ai-editorial-layout__title-{{ ai_gen_id }} {
    font-family: {{ block.settings.heading_font.family }}, {{ block.settings.heading_font.fallback_families }};
    font-weight: {{ block.settings.heading_font.weight }};
    font-size: {{ block.settings.title_size }}px;
    color: {{ block.settings.text_color }};
    margin: 0 0 20px;
    line-height: 1.2;
  }

  .ai-editorial-layout__subtitle-{{ ai_gen_id }} {
    font-size: {{ block.settings.subtitle_size }}px;
    color: {{ block.settings.subtitle_color }};
    margin: 0 0 30px;
    font-style: italic;
  }

  .ai-editorial-layout__meta-{{ ai_gen_id }} {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    font-size: 14px;
    color: {{ block.settings.meta_color }};
    margin-bottom: 20px;
  }

  .ai-editorial-layout__author-{{ ai_gen_id }} {
    font-weight: 600;
  }

  .ai-editorial-layout__date-{{ ai_gen_id }} {
    position: relative;
  }

  .ai-editorial-layout__date-{{ ai_gen_id }}::before {
    content: "â€¢";
    position: absolute;
    left: -12px;
  }

  .ai-editorial-layout__content-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: 1fr 300px;
    gap: 60px;
    align-items: start;
  }

  .ai-editorial-layout__main-{{ ai_gen_id }} {
    display: flex;
    flex-direction: column;
    gap: 40px;
  }

  .ai-editorial-layout__hero-image-{{ ai_gen_id }} {
    width: 100%;
    margin-bottom: 40px;
  }

  .ai-editorial-layout__hero-image-{{ ai_gen_id }} img {
    width: 100%;
    height: auto;
    border-radius: {{ block.settings.image_border_radius }}px;
  }

  .ai-editorial-layout__hero-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 400px;
    background-color: #f4f4f4;
    border-radius: {{ block.settings.image_border_radius }}px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  .ai-editorial-layout__hero-placeholder-{{ ai_gen_id }} svg {
    width: 100%;
    height: 100%;
    max-width: 200px;
    max-height: 200px;
    opacity: 0.3;
  }

  .ai-editorial-layout__empty-state-{{ ai_gen_id }} {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    color: #666;
    font-size: 14px;
    text-align: center;
  }

  .ai-editorial-layout__text-content-{{ ai_gen_id }} {
    font-size: {{ block.settings.body_text_size }}px;
    color: {{ block.settings.text_color }};
    line-height: 1.8;
  }

  .ai-editorial-layout__text-content-{{ ai_gen_id }} p {
    margin-bottom: 24px;
  }

  .ai-editorial-layout__text-content-{{ ai_gen_id }} p:first-letter {
    font-size: 3.5em;
    float: left;
    line-height: 0.8;
    margin: 8px 8px 0 0;
    font-weight: bold;
    color: {{ block.settings.accent_color }};
  }

  .ai-editorial-layout__sidebar-{{ ai_gen_id }} {
    display: flex;
    flex-direction: column;
    gap: 40px;
  }

  .ai-editorial-layout__sidebar-image-{{ ai_gen_id }} {
    width: 100%;
  }

  .ai-editorial-layout__sidebar-image-{{ ai_gen_id }} img {
    width: 100%;
    height: auto;
    border-radius: {{ block.settings.image_border_radius }}px;
  }

  .ai-editorial-layout__sidebar-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 200px;
    background-color: #f4f4f4;
    border-radius: {{ block.settings.image_border_radius }}px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  .ai-editorial-layout__sidebar-placeholder-{{ ai_gen_id }} svg {
    width: 80px;
    height: 80px;
    opacity: 0.3;
  }

  .ai-editorial-layout__sidebar-empty-{{ ai_gen_id }} {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    color: #666;
    font-size: 12px;
    text-align: center;
  }

  .ai-editorial-layout__quote-{{ ai_gen_id }} {
    background-color: {{ block.settings.quote_background }};
    padding: 30px;
    border-left: 4px solid {{ block.settings.accent_color }};
    font-size: {{ block.settings.quote_size }}px;
    font-style: italic;
    color: {{ block.settings.quote_color }};
    margin: 40px 0;
    border-radius: 0 {{ block.settings.image_border_radius }}px {{ block.settings.image_border_radius }}px 0;
  }

  .ai-editorial-layout__related-{{ ai_gen_id }} {
    background-color: {{ block.settings.related_background }};
    padding: 30px;
    border-radius: {{ block.settings.image_border_radius }}px;
    border: 1px solid {{ block.settings.border_color }};
  }

  .ai-editorial-layout__related-title-{{ ai_gen_id }} {
    font-family: {{ block.settings.heading_font.family }}, {{ block.settings.heading_font.fallback_families }};
    font-weight: {{ block.settings.heading_font.weight }};
    font-size: 18px;
    color: {{ block.settings.text_color }};
    margin: 0 0 20px;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .ai-editorial-layout__related-list-{{ ai_gen_id }} {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .ai-editorial-layout__related-item-{{ ai_gen_id }} {
    padding: 12px 0;
    border-bottom: 1px solid {{ block.settings.border_color }};
  }

  .ai-editorial-layout__related-item-{{ ai_gen_id }}:last-child {
    border-bottom: none;
  }

  .ai-editorial-layout__related-link-{{ ai_gen_id }} {
    color: {{ block.settings.text_color }};
    text-decoration: none;
    font-size: 14px;
    line-height: 1.4;
    transition: color 0.3s ease;
  }

  .ai-editorial-layout__related-link-{{ ai_gen_id }}:hover {
    color: {{ block.settings.accent_color }};
  }

  @media screen and (max-width: 768px) {
    .ai-editorial-layout-{{ ai_gen_id }} {
      padding: {{ block.settings.section_padding | divided_by: 2 }}px;
    }

    .ai-editorial-layout__header-{{ ai_gen_id }} {
      margin-bottom: 40px;
      padding-bottom: 30px;
    }

    .ai-editorial-layout__title-{{ ai_gen_id }} {
      font-size: {{ block.settings.title_size | times: 0.8 }}px;
    }

    .ai-editorial-layout__content-{{ ai_gen_id }} {
      grid-template-columns: 1fr;
      gap: 40px;
    }

    .ai-editorial-layout__meta-{{ ai_gen_id }} {
      flex-direction: column;
      gap: 10px;
    }

    .ai-editorial-layout__date-{{ ai_gen_id }}::before {
      display: none;
    }

    .ai-editorial-layout__text-content-{{ ai_gen_id }} p:first-letter {
      font-size: 2.5em;
      margin: 4px 6px 0 0;
    }
  }
{% endstyle %}

<article class="ai-editorial-layout-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <header class="ai-editorial-layout__header-{{ ai_gen_id }}">
    {% if block.settings.category != blank %}
      <div class="ai-editorial-layout__category-{{ ai_gen_id }}">
        {{ block.settings.category }}
      </div>
    {% endif %}

    {% if block.settings.title != blank %}
      <h1 class="ai-editorial-layout__title-{{ ai_gen_id }}">
        {{ block.settings.title }}
      </h1>
    {% endif %}

    {% if block.settings.subtitle != blank %}
      <p class="ai-editorial-layout__subtitle-{{ ai_gen_id }}">
        {{ block.settings.subtitle }}
      </p>
    {% endif %}

    <div class="ai-editorial-layout__meta-{{ ai_gen_id }}">
      {% if block.settings.author != blank %}
        <span class="ai-editorial-layout__author-{{ ai_gen_id }}">
          By {{ block.settings.author }}
        </span>
      {% endif %}
      {% if block.settings.date != blank %}
        <time class="ai-editorial-layout__date-{{ ai_gen_id }}">
          {{ block.settings.date }}
        </time>
      {% endif %}
    </div>
  </header>

  <div class="ai-editorial-layout__content-{{ ai_gen_id }}"><main class="ai-editorial-layout__main-{{ ai_gen_id }}">
      <div class="ai-editorial-layout__hero-image-{{ ai_gen_id }}">
        {% if block.settings.hero_image %}
          <img
            src="{{ block.settings.hero_image | image_url: width: 800 }}"
            alt="{{ block.settings.hero_image.alt | escape }}"
            width="{{ block.settings.hero_image.width }}"
            height="{{ block.settings.hero_image.height }}"
            loading="lazy"
          >
        {% else %}
          <div class="ai-editorial-layout__hero-placeholder-{{ ai_gen_id }}">
            {{ 'image' | placeholder_svg_tag }}
            <div class="ai-editorial-layout__empty-state-{{ ai_gen_id }}">
              Add a hero image to complete the editorial layout
            </div>
          </div>
        {% endif %}
      </div>

      {% if block.settings.content != blank %}
        <div class="ai-editorial-layout__text-content-{{ ai_gen_id }}">
          {{ block.settings.content }}
        </div>
      {% endif %}

      {% if block.settings.quote != blank %}
        <blockquote class="ai-editorial-layout__quote-{{ ai_gen_id }}">
          {{ block.settings.quote }}
        </blockquote>
      {% endif %}
    </main>

    <aside class="ai-editorial-layout__sidebar-{{ ai_gen_id }}"><div class="ai-editorial-layout__sidebar-image-{{ ai_gen_id }}">
        {% if block.settings.sidebar_image %}
          <img
            src="{{ block.settings.sidebar_image | image_url: width: 300 }}"
            alt="{{ block.settings.sidebar_image.alt | escape }}"
            width="{{ block.settings.sidebar_image.width }}"
            height="{{ block.settings.sidebar_image.height }}"
            loading="lazy"
          >
        {% else %}
          <div class="ai-editorial-layout__sidebar-placeholder-{{ ai_gen_id }}">
            {{ 'image' | placeholder_svg_tag }}
            <div class="ai-editorial-layout__sidebar-empty-{{ ai_gen_id }}">
              Add sidebar image
            </div>
          </div>
        {% endif %}
      </div>

      {% if block.settings.show_related %}
        <div class="ai-editorial-layout__related-{{ ai_gen_id }}">
          <h3 class="ai-editorial-layout__related-title-{{ ai_gen_id }}">
            {{ block.settings.related_title }}
          </h3>
          <ul class="ai-editorial-layout__related-list-{{ ai_gen_id }}">
            {% for i in (1..5) %}
              {% assign link_key = 'related_link_' | append: i %}
              {% assign text_key = 'related_text_' | append: i %}
              {% if block.settings[link_key] != blank and block.settings[text_key] != blank %}
                <li class="ai-editorial-layout__related-item-{{ ai_gen_id }}"><a href="{{ block.settings[link_key] }}" class="ai-editorial-layout__related-link-{{ ai_gen_id }}">
                    {{ block.settings[text_key] }}</a>
                </li>
              {% endif %}
            {% endfor %}
          </ul>
        </div>
      {% endif %}
    </aside>
  </div>
</article>

{% schema %}
{
  "name": "Magazine editorial layout",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "category",
      "label": "Category",
      "default": "Feature Story"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "The Art of Modern Design"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Exploring contemporary aesthetics in everyday life"
    },
    {
      "type": "text",
      "id": "author",
      "label": "Author name",
      "default": "Editorial Team"
    },
    {
      "type": "text",
      "id": "date",
      "label": "Publication date",
      "default": "March 15, 2024"
    },
    {
      "type": "richtext",
      "id": "content",
      "label": "Article content",
      "default": "<p>In the ever-evolving landscape of modern design, we find ourselves at the intersection of functionality and beauty. This editorial explores the delicate balance between form and function that defines contemporary aesthetics.</p><p>The principles of good design have remained constant throughout history, yet their application continues to evolve with changing technologies and cultural shifts. Today's designers must navigate an increasingly complex world while maintaining the timeless appeal of well-crafted objects.</p><p>From architecture to product design, the influence of minimalism and sustainable practices has reshaped our understanding of what constitutes thoughtful design. This movement toward conscious creation reflects a broader cultural shift toward mindful consumption and environmental responsibility.</p>"
    },
    {
      "type": "richtext",
      "id": "quote",
      "label": "Pull quote",
      "default": "<p>Good design is not just about how something looks, but how it makes people feel and how it improves their daily lives.</p>"
    },
    {
      "type": "header",
      "content": "Images"
    },
    {
      "type": "image_picker",
      "id": "hero_image",
      "label": "Hero image"
    },
    {
      "type": "image_picker",
      "id": "sidebar_image",
      "label": "Sidebar image"
    },
    {
      "type": "header",
      "content": "Related articles"
    },
    {
      "type": "checkbox",
      "id": "show_related",
      "label": "Show related articles",
      "default": true
    },
    {
      "type": "text",
      "id": "related_title",
      "label": "Related section title",
      "default": "Related Reading"
    },
    {
      "type": "text",
      "id": "related_text_1",
      "label": "Related article 1 title",
      "default": "The Future of Sustainable Design"
    },
    {
      "type": "url",
      "id": "related_link_1",
      "label": "Related article 1 link"
    },
    {
      "type": "text",
      "id": "related_text_2",
      "label": "Related article 2 title",
      "default": "Minimalism in Digital Spaces"
    },
    {
      "type": "url",
      "id": "related_link_2",
      "label": "Related article 2 link"
    },
    {
      "type": "text",
      "id": "related_text_3",
      "label": "Related article 3 title",
      "default": "Color Theory for Modern Brands"
    },
    {
      "type": "url",
      "id": "related_link_3",
      "label": "Related article 3 link"
    },
    {
      "type": "text",
      "id": "related_text_4",
      "label": "Related article 4 title"
    },
    {
      "type": "url",
      "id": "related_link_4",
      "label": "Related article 4 link"
    },
    {
      "type": "text",
      "id": "related_text_5",
      "label": "Related article 5 title"
    },
    {
      "type": "url",
      "id": "related_link_5",
      "label": "Related article 5 link"
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "font_picker",
      "id": "heading_font",
      "label": "Heading font",
      "default": "helvetica_n4"
    },
    {
      "type": "font_picker",
      "id": "body_font",
      "label": "Body font",
      "default": "helvetica_n4"
    },
    {
      "type": "range",
      "id": "title_size",
      "min": 24,
      "max": 72,
      "step": 2,
      "unit": "px",
      "label": "Title size",
      "default": 48
    },
    {
      "type": "range",
      "id": "subtitle_size",
      "min": 14,
      "max": 32,
      "step": 2,
      "unit": "px",
      "label": "Subtitle size",
      "default": 20
    },
    {
      "type": "range",
      "id": "body_text_size",
      "min": 14,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Body text size",
      "default": 16
    },
    {
      "type": "range",
      "id": "quote_size",
      "min": 16,
      "max": 32,
      "step": 2,
      "unit": "px",
      "label": "Quote size",
      "default": 20
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text",
      "default": "#2c2c2c"
    },
    {
      "type": "color",
      "id": "accent_color",
      "label": "Accent",
      "default": "#d4af37"
    },
    {
      "type": "color",
      "id": "accent_text_color",
      "label": "Accent text",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "subtitle_color",
      "label": "Subtitle",
      "default": "#666666"
    },
    {
      "type": "color",
      "id": "meta_color",
      "label": "Meta text",
      "default": "#888888"
    },
    {
      "type": "color",
      "id": "quote_color",
      "label": "Quote text",
      "default": "#444444"
    },
    {
      "type": "color",
      "id": "quote_background",
      "label": "Quote background",
      "default": "#f8f8f8"
    },
    {
      "type": "color",
      "id": "related_background",
      "label": "Related section background",
      "default": "#fafafa"
    },
    {
      "type": "color",
      "id": "border_color",
      "label": "Border",
      "default": "#e0e0e0"
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "section_padding",
      "min": 20,
      "max": 100,
      "step": 10,
      "unit": "px",
      "label": "Section padding",
      "default": 40
    },
    {
      "type": "range",
      "id": "image_border_radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Image border radius",
      "default": 8
    }
  ],
  "presets": [
    {
      "name": "Magazine editorial layout"
    }
  ],
  "tag": null
}
{% endschema %}